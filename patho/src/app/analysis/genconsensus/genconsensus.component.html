<div class="tab-content">



    <div class="tab-pane tabs-animation fade show active" id="tab-content-0" role="tabpanel">
        <div class="main-card mb-3 card">
            <div class="card-body">
                <div class="container bg-dark text-white">
                    <div class="row">
                        <div class="col-md-4 ">
                            <h3 class="pb-4 mb-4 fst-italic border-bottom">
                                Run Generate Consensus
                            </h3>
                        </div>

                    </div>

                </div>
                <div>
                    <hr>
                </div>
                <ng-container [ngSwitch]="stepperOrientation | async">
                    <div *ngSwitchCase="'horizontal'">follow the steps for the generation of concensus files</div>
                    <div *ngSwitchCase="'vertical'">follow the steps for the generation of concensus files</div>
                </ng-container>

                <mat-stepper class="example-stepper" [orientation]="(stepperOrientation | async)!" >
                    <mat-step [stepControl]="firstFormGroup" label="Break down by chromosome" [optional]="isOptional">
                        <form [formGroup]="firstFormGroup">
                            <mat-form-field appearance="fill">
                                <mat-label>Pathogene</mat-label>
                                <mat-select formControlName="firstCtrl" required>
                                    <mat-option>--</mat-option>
                                    <mat-option *ngFor="let parasite of ReferencepList" [value]="parasite" required>
                                        {{parasite}}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                            <div>
                                <button (click)="generate_reference()" mat-button matStepperNext>Run</button>
                            </div>
                        </form>
                    </mat-step>
                    <mat-step [stepControl]="secondFormGroup" label="Assembly" [optional]="isOptional">
                        <form [formGroup]="secondFormGroup">
                           <!--   <div>
                                <mat-form-field appearance="outline">
                                    <mat-label>Ploidy</mat-label>
                                    <input matInput="number" placeholder="1" formControlName="ploidy" required>
                                </mat-form-field>
                            </div>
                          <div>
                                <mat-form-field appearance="outline">
                                    <mat-label>Genotype depth</mat-label>
                                    <input matInput="number" placeholder="10" formControlName="depth" required>
                                </mat-form-field>
                            </div>
                            <div>
                                <mat-form-field appearance="outline">
                                    <mat-label>Genotype quality</mat-label>
                                    <input matInput="number" placeholder="15" formControlName="quality" required>
                                </mat-form-field>
                            </div>-->
                            <div>
                                <button mat-button matStepperPrevious>Back</button>
                                <button mat-button matStepperNext (click)="generate_cons()">Run</button>
                            </div>
                        </form>
                    </mat-step>
                    <!--   <mat-step [stepControl]="thirdFormGroup" label="Consensus" [optional]="isOptional">
                        <form [formGroup]="thirdFormGroup">
                            <div>
                                <button mat-button matStepperPrevious>Back</button>
                                <button mat-button matStepperNext (click)="generate_final()">Final</button>
                            </div>
                        </form>
                    </mat-step>
                  
                    <mat-step [stepControl]="fourFormGroup" label="">
                        <form [formGroup]="fourFormGroup">
                            <div>
                                <button mat-button matStepperPrevious>Back</button>
                                <button mat-button matStepperNext (click)="generate_bam()">Generate Bam file</button>
                            </div>
                        </form>
                    </mat-step>
                    <mat-step [stepControl]="fiveFormGroup" label="">
                        <form [formGroup]="fiveFormGroup">
                            <div>
                                <button mat-button matStepperPrevious>Back</button>
                                <button mat-button matStepperNext (click)="generate_vcf()">Generate Vcf file</button>
                            </div>
                        </form>
                    </mat-step> 
                -->
                    <mat-step>
                        <ng-template matStepLabel>Done</ng-template>
                        <p>You are now done, Download the Consensus</p>
                        <div>
                            <button mat-button matStepperPrevious>Back</button>
                        </div>
                    </mat-step>
                </mat-stepper>
                <!-- 

                <div>
                    <hr>
                </div>
                <div class="nk-content nk-content-fluid">
                    <div class="container-xl wide-xl">
                        <div class="nk-content-inner">

                            <form [formGroup]="QcFormControl" (ngSubmit)="onSubmit()" id="formsub">
                                <div>
                                    <mat-form-field appearance="fill" id="parasite">
                                        <mat-label>Select Pathogene reference</mat-label>
                                        <mat-select formControlName="parasite" required>
                                            <mat-option>--</mat-option>
                                            <mat-option *ngFor="let parasite of ReferencepList" [value]="parasite">
                                                {{parasite}}
                                            </mat-option>
                                        </mat-select>
                                        <mat-error *ngIf="QcFormControl.hasError('required')">Please choose Pathogene
                                            references
                                        </mat-error>
                                        <mat-hint></mat-hint>
                                    </mat-form-field>
                                </div>
                                <button class="button" [disabled]='showlog' type="submit">Generate</button>

                            </form>
                        </div>
                        
                </div> -->


            </div>

        </div>


        <div class="row">
            <div class="col-md-12" *ngIf="!showlog; else elseBlock">
                <button mat-raised-button (click)="link()" [disabled]="showlog"> Results
                </button> &nbsp;
                <button mat-raised-button [disabled]="showlog">
                    <a target="_blank" (click)="linkdwn()" href="{{this.baseUrl}}/getconsole/">Download Log
                    </a>
                </button> &nbsp;
                <button mat-raised-button [disabled] [ngStyle]="{'background-color':color}">
                    Status
                </button>
            </div>
        </div>

        <ng-template #elseBlock>
            <mat-progress-bar mode="indeterminate"></mat-progress-bar>
            <mat-progress-bar mode="indeterminate"></mat-progress-bar>
            <mat-progress-bar mode="indeterminate"></mat-progress-bar>

        </ng-template>
    </div>





</div>